.preserved-selection,
.notes-text-editor-title::selection {
  @apply bg-f1-background-selected-hover;
}

.notes-text-editor *::selection {
  background-color: transparent !important;
}

.notes-text-editor p {
  @apply relative mb-2 p-0 text-[16px] font-normal leading-[24px] tracking-[-0.16px];
}

.notes-text-editor p:last-child {
  @apply mb-0;
}

.notes-text-editor h1 {
  @apply mb-2.5 p-0 text-[29px] font-semibold leading-[39px] tracking-[-0.58px];
}

.notes-text-editor h2 {
  @apply mb-2 p-0 text-[24px] font-semibold leading-[32px] tracking-[-0.48px];
}

.notes-text-editor h3 {
  @apply mb-[7px] p-0 text-[19px] font-semibold leading-[26px] tracking-[-0.19px];
}

.notes-text-editor ul {
  @apply m-0 mb-2 list-disc;
}

.notes-text-editor ol {
  @apply m-0 mb-2 list-decimal;
}

.notes-text-editor a {
  @apply cursor-pointer font-medium text-f1-foreground-accent no-underline;
}

.notes-text-editor strong {
  @apply font-semibold;
}

.notes-text-editor em {
  @apply italic;
}

.notes-text-editor u {
  @apply underline;
}

.notes-text-editor s {
  @apply line-through;
}

.notes-text-editor .f1-bullet-list {
  @apply list-disc;
}

.notes-text-editor .f1-ordered-list {
  @apply list-decimal;
}

.notes-text-editor ul,
.notes-text-editor ol {
  @apply pl-5;
}

.notes-text-editor .f1-ordered-list p,
.notes-text-editor .f1-bullet-list p {
  @apply ml-2;
}

.notes-text-editor li {
  @apply mb-2;
}

.notes-text-editor pre {
  @apply relative mx-0 my-4 overflow-x-auto whitespace-pre-wrap rounded-md bg-f1-background-secondary p-2;
}

.notes-text-editor code {
  @apply text-sm;
  font-family: Menlo, Consolas, Monaco, monospace;
}

.notes-text-editor blockquote {
  @apply m-0 mb-2.5 border-0 border-l-4 border-solid border-f1-border pl-4;
}

.notes-text-editor:focus {
  @apply outline-none;
}

.notes-text-editor .ProseMirror-selectednode,
.ProseMirror .ProseMirror-selectednode,
.ProseMirror-selectednode,
.node-image.ProseMirror-selectednode {
  outline: none !important;
}

.notes-text-editor hr {
  @apply my-3 border-0 border-t border-f1-border;
}

.notes-text-editor mark {
  @apply rounded-xs bg-f1-background-promote p-0.5 text-f1-foreground;
}

.notes-text-editor p:empty::before {
  content: "\00a0";
}

.notes-text-editor ul[data-type="taskList"] {
  @apply pl-0;
}

.f1-task-item {
  @apply mb-2 flex list-none gap-2;
}

.f1-task-item div {
  @apply flex-1;
}

.f1-task-item input {
  /* Hide native checkbox and style it custom */
  appearance: none;
  -webkit-appearance: none;
  @apply relative h-5 w-5 flex-shrink-0 cursor-pointer rounded-xs border border-solid border-f1-border bg-f1-background transition-colors;
}

.f1-task-item input:hover {
  @apply border-f1-border-hover;
}

.f1-task-item input:checked {
  @apply border-f1-border-selected bg-f1-background-selected-bold;
}

.f1-task-item[data-checked="true"] > div > p {
  @apply text-f1-foreground-secondary line-through;
}

.f1-task-item input:checked::after {
  @apply absolute left-1/2 top-1/2 h-4 w-4 -translate-x-1/2 -translate-y-1/2;
  content: "";
  background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.75 16.75L17.75 7.25004' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M6.25 11.75L10.75 16.75' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;
}

.f1-task-item-content {
  @apply min-w-0 flex-1;
  outline: none;
}

.f1-task-item[data-checked="true"] .f1-task-item-content {
  @apply text-f1-foreground-secondary line-through;
}

.f1-task-item-content p {
  @apply m-0;
}

/*
Placeholder component
*/

.tiptap p.is-empty::before {
  @apply pointer-events-none float-left block h-0 max-w-full text-ellipsis whitespace-nowrap text-f1-foreground-tertiary;
  content: attr(data-placeholder);
}

.editor-mood-tracker p {
  @apply m-0;
}

.rich-text-details {
  @apply my-0 flex gap-2 py-1 transition-all;
}

.rich-text-details summary {
  @apply text-lg font-semibold;
}

.rich-text-details summary::marker {
  content: "";
}

.rich-text-details > button {
  @apply flex h-6 w-6 items-center justify-center rounded-xs bg-f1-background;
}

.rich-text-details > button:hover {
  @apply bg-f1-background-secondary;
}

.rich-text-details > button::before {
  @apply text-xs text-f1-foreground;
  content: "\25B6";
}

.rich-text-details.is-open > button::before {
  @apply rotate-90;
}

.rich-text-details > div {
  @apply flex w-full flex-col gap-2;
}

.rich-text-details > div > [data-type="detailsContent"] > :last-child {
  @apply mb-2;
}

.rich-text-details.rich-text-details {
  @apply mb-2;
}

/* Table-specific styling */
.notes-text-editor table {
  @apply m-0 w-full table-fixed overflow-hidden;
  border-collapse: collapse;
}

.notes-text-editor table td,
.notes-text-editor table th {
  @apply relative box-border min-w-4 border border-solid border-f1-border px-3 py-2.5 align-top;
}

.notes-text-editor table td > *,
.notes-text-editor table th > * {
  @apply mb-0;
}

.notes-text-editor table th {
  @apply text-left;
}

.notes-text-editor table th > * {
  @apply font-medium text-f1-foreground-secondary;
}

.notes-text-editor table .selectedCell:after {
  @apply pointer-events-none absolute bottom-0 left-0 right-0 top-0 z-10 bg-f1-background-selected;
  content: "";
}

.notes-text-editor table .column-resize-handle {
  @apply pointer-events-none absolute -bottom-0.5 -right-0.5 top-0 w-1 cursor-col-resize bg-f1-border-selected-bold;
}

.notes-text-editor .tableWrapper {
  @apply mb-3 overflow-x-auto;
}

.notes-text-editor .resize-cursor {
  @apply cursor-col-resize;
}
